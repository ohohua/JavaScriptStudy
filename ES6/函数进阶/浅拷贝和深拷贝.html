<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
             // æµ…æ‹·è´åªæ˜¯æ‹·è´ä¸€å±‚ï¼Œæ›´æ·±å±‚æ¬¡å¯¹è±¡çº§åˆ«çš„åªæ‹·è´å¼•ç”¨(åœ°å€)
             // æ·±æ‹·è´æ‹·è´å¤šå±‚ï¼Œæ¯ä¸€çº§åˆ«çš„æ•°æ®éƒ½ä¼šæ‹·è´
             var obj = {
               id: 1,
               name: "andy",
               msg: {
                 age: 18,
               },
             };
             // æµ…æ‹·è´
             var o = {};
             console.log("----------forå¾ªç¯å®ç°æµ…æ‹·è´------------");
             // for(var k in obj){
             //   // kæ˜¯å±æ€§å  obj[k]æ˜¯å±æ€§å€¼
             //   o[k] = obj[k];
             // }
             console.log("----------æµ…æ‹·è´æ–°æ–¹æ³•assign-----------");
             Object.assign(o, obj); //æµ…æ‹·è´æ–°æ–¹æ³•è¯­æ³•ç³–ï¼ŒæŠŠobjæ‹·è´ç»™o

             console.log(o); //{id: 1, name: "andy", msg: {â€¦}}
             /*
             æ‹·è´çš„æ˜¯msgçš„åœ°å€ï¼Œæ­¤æ—¶ä¿®æ”¹o.msgçš„å€¼ä¼šå½±å“obj.msgçš„å€¼
             ex:ğŸ‘‡
            */
             o.msg.age = 20;
             console.log("o.msg.age:" + o.msg.age);
             console.log("obj.msg.age:" + obj.msg.age);

             // æ·±æ‹·è´  åˆ©ç”¨é€’å½’
             var obj2 = {
               id: 1,
               name: "andy",
               msg: {
                 age: 18,
               },
               color:['pink','red']
             };
             var o2 = {};
             //å°è£…å‡½æ•°
             function deepCopy(newobj,oldobj) {
               for(var k in oldobj){
                 //åˆ¤æ–­æˆ‘ä»¬çš„å±æ€§å€¼å±äºå“ªç§æ•°æ®ç±»å‹
                 // 1.è·å–æˆ‘ä»¬çš„å±æ€§å€¼ oldobj[k]
                  var item = oldobj[k];
                  
                  if(item instanceof Array) {     //æ³¨æ„Arrayä¹Ÿå±äºå¯¹è±¡ï¼Œæ‰€ä»¥è¦å…ˆåˆ¤æ–­æ•°ç»„
                  // 2.åˆ¤æ–­è¿™ä¸ªå€¼æ˜¯å¦æ˜¯æ•°ç»„
                    newobj[k] = [];
                    deepCopy(newobj[k],item);
                  }else if(item instanceof Object){
                    // 3.åˆ¤æ–­è¿™ä¸ªå€¼æ˜¯å¦æ˜¯å¯¹è±¡
                    newobj[k] = {};
                    deepCopy(newobj[k],item);
                  } else {
                    // 4.éƒ½ä¸æ˜¯çš„è¯å°±æ˜¯ç®€å•æ•°æ®ç±»å‹
                    newobj[k] = item;
                  }


               }
             }
             deepCopy(o2, obj2);
             console.log(o2);
    </script>
  </body>
</html>
